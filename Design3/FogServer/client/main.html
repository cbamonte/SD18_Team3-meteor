<head>
    <title>Fog server</title>
</head>

<body>

<div class="container">
    <div class="col-xs-12">
        {{> list}}
    </div>
</div>

</body>

<template name="list">

    <div class="row">
        <h1>Client UI
            {{#if connected}}
                <div class="btn btn-warning disconnect pull-right" style="margin-right: 10px;">
                    Disconnect
                </div>
            {{else}}
                <div class="btn btn-primary reconnect pull-right" style="margin-right: 10px;">
                    Reconnect
                </div>
            {{/if}}
        </h1>
    </div>

    <div class="row">

        <div class="col-md-4">
            <div class="row">
                <h2>Nodes
                    <div class="form form-inline pull-right" style="margin-right: 40px;">
                        <div class="btn btn-sm btn-primary addNode">
                            Add
                        </div>
                        <div class="btn btn-sm btn-danger resetNode">
                            Clear
                        </div>
                    </div>
                </h2>
                <hr style="margin-right: 10px; margin-left: 10px;">

                <h3>Queue</h3>
                {{#if nodeInQueue}}
                    <ol>
                        {{#each nodesInQueue}}
                            <li>
                                <span style="color:{{getOrigin}}">id: {{_id}}</span>
                            </li>
                        {{/each}}
                    </ol>
                {{else}}
                    <ul>
                        <li>empty</li>
                    </ul>
                {{/if}}
            </div>

            <div class="row">
                <h3>Log</h3>
                {{#if nodeInLog}}
                    <ol>
                        {{#each nodesInLog}}
                            <li>
                                sent: {{sent}} | received: {{received}} <br> delay: <span style="color:{{getOrigin}}">{{dt}}</span> ms
                            </li>
                        {{/each}}
                    </ol>
                {{else}}
                    <ul>
                        <li>empty</li>
                    </ul>
                {{/if}}
            </div>
        </div>

        <div class="col-md-4">
            <div class="row">
                <h2>Tags
                    <div class="form form-inline pull-right" style="margin-right: 40px;">
                        <div class="btn btn-sm btn-primary addTag">
                            Add
                        </div>
                        <div class="btn btn-sm btn-danger resetTag">
                            Clear
                        </div>
                    </div>
                </h2>
                <hr style="margin-right: 10px; margin-left: 10px;">

                <h3>Queue</h3>
                {{#if tagInQueue}}
                    <ol>
                        {{#each tagsInQueue}}
                            <li>
                                <span style="color:{{getOrigin}}">id: {{_id}}</span>
                            </li>
                        {{/each}}
                    </ol>
                {{else}}
                    <ul>
                        <li>empty</li>
                    </ul>
                {{/if}}
            </div>

            <div class="row">
                <h3>Log</h3>
                {{#if tagInLog}}
                    <ol>
                        {{#each tagsInLog}}
                            <li>
                                nodeID: {{getNodeID}}<br>
                                tagID: {{getTagID}}<br>
                                groupSize: {{getGroupSize}}<br>
                                delay: <span style="color:{{getTagOrigin}}">{{getTagDt}}</span> ms
                            </li>
                        {{/each}}
                    </ol>
                {{else}}
                    <ul>
                        <li>empty</li>
                    </ul>
                {{/if}}
            </div>
        </div>

        <div class="col-md-4">
            <div class="row">
                <h2>Measurements
                    <div class="form form-inline pull-right" style="margin-right: 40px;">
                        <div class="btn btn-sm btn-default exportData" disabled>
                            Export
                        </div>
                    </div>
                </h2>
                <hr style="margin-right: 10px; margin-left: 10px;">

                <div class="col-xs-12">
                    {{#if cloudAvg}}
                        Cloud update avg: <span style="color:{{getCloudColor}}">{{cloudAvg}}</span> ms<br>
                    {{/if}}
                    {{#if fogAvg}}
                        Fog update avg: <span style="color:{{getFogColor}}">{{fogAvg}}</span> ms<br>
                    {{/if}}
                </div>
            </div>

            <br>

        </div>

    </div>

</template>